import { config as dotEnvConfig } from "dotenv";
dotEnvConfig();
import { parseTokensFromCalldata } from "../../utils/pending-txs/parser/payment-processor-v2";
import { describe, jest, it, expect } from "@jest/globals";

jest.setTimeout(1000 * 1000);

describe("ParseToken", () => {
  it("ppv2", async () => {
    const calldataList = [
      // buyListing
      `0xc32dacae000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000003809a1c0e9c1617e69414ac5a84b68587c2192d6f67c055877ef41c0ab90db8bd9e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000e194be586919965a187d9aab28a92f6c1f0293dc000000000000000000000000b66ddd73464053ba6e0753ad3003eef9578040ff0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005d2ab1f930ce63778ce0ae81bd01142435aef35b000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000de0b6b3a764000000000000000000000000000000000000000000000000e2ef15038861239b0d06000000000000000000000000000000000000000000000000000000006595559e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001bd8a9dff3e20081bfd6ce272997145556f3a1e9bc688b06fc574f4153f68520e8054136671babb442a680922de6298609969f3c5fa26de91934422eb22944d8750000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000`,
      // bulkBuyListings
      `0x863eb2d2000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000007e09a1c0e9c1617e69414ac5a84b68587c2192d6f67c055877ef41c0ab90db8bd9e00000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000004c000000000000000000000000000000000000000000000000000000000000005a0000000000000000000000000000000000000000000000000000000000000074000000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000e194be586919965a187d9aab28a92f6c1f0293dc000000000000000000000000b66ddd73464053ba6e0753ad3003eef9578040ff0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005d2ab1f930ce63778ce0ae81bd01142435aef35b000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000de0b6b3a76400000000000000000000000000000000000000000000000060aacc12ea2b4670dff300000000000000000000000000000000000000000000000000000000659555a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000e194be586919965a187d9aab28a92f6c1f0293dc000000000000000000000000b66ddd73464053ba6e0753ad3003eef9578040ff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000bcab4424bdb7442c2a85080e0bbeca1a5c37b941000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000de0b6b3a764000000000000000000000000000000000000000000000000ca414428dabb40da3a3700000000000000000000000000000000000000000000000000000000659555a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000001b4736e80e1f3d0e4cfde329f1f41ba72e25e86b51323bc136d5d63e9bdb6876674fc50017329e917041425ca1e480d24c9144e516896fa135a4dc282e3b04c255000000000000000000000000000000000000000000000000000000000000001c117700ab2124d697590efdc61c647558fe0ac2d8640b98a2257b9bcf4042cf5561f7af66655b24d293f5ca325d7b93dd1211b5f0c73ed8da9be5573cf5fe9bb60000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000000000000000000000013cda86710b286a706030204693b5841a17760cd00000000000000000000000000000000000000000000000000c3663566a5800000000000000000000000000013cda86710b286a706030204693b5841a17760cd00000000000000000000000000000000000000000000000000c3663566a5800003354c59`,
      // sweepCollection
      `0x96c3ae25000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000006609a1c0e9c1617e69414ac5a84b68587c2192d6f67c055877ef41c0ab90db8bd9e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005d2ab1f930ce63778ce0ae81bd01142435aef35b0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000b66ddd73464053ba6e0753ad3003eef9578040ff000000000000000000000000000000000000000000000000000000000000014000000000000000000000000000000000000000000000000000000000000003e000000000000000000000000000000000000000000000000000000000000004c00000000000000000000000000000000000000000000000000000000000000002000000000000000000000000e194be586919965a187d9aab28a92f6c1f0293dc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000de0b6b3a764000000000000000000000000000000000000000000000000aedb1584e5b978b261f1000000000000000000000000000000000000000000000000000000006595559f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000e194be586919965a187d9aab28a92f6c1f0293dc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000de0b6b3a764000000000000000000000000000000000000000000000000af563a2d745880236d19000000000000000000000000000000000000000000000000000000006595559f000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000001ce67385f914469c3a2d8e479f969c8c47c003b862979dd0dc8e65339f3802a1a40c27b153c6017328cfbf94465ccb132b730ad500ae278753fb8c9b27eeda5bb2000000000000000000000000000000000000000000000000000000000000001c9458c310e7f41e06d7d851c86331799d06eadaa7df49adc8ce0e338b8743e5f5756cfff8d201411402088dfc3ab4e23aff232b36f36cb9eefd381ae600d6cf61000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003354c59`,
    ];
    for (const calldata of calldataList) {
      const tokens = await parseTokensFromCalldata(calldata);
      expect(tokens.length).not.toBe(0);
    }
  });
});
