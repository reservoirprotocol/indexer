import { config as dotEnvConfig } from "dotenv";
dotEnvConfig();

import { extractByCollectionERC1155 } from "../../orderbook/mints/calldata/detector/zora-erc1155";
import { jest, describe, it, expect } from "@jest/globals";

jest.setTimeout(1000 * 1000);

describe("Mints - Zora", () => {
  it("erc1155-public-sale", async () => {
    const collection = `0xafd7b9edc5827f7e39dcd425d8de8d4e1cb292c1`;
    const data = `0x731133e90000000000000000000000008a1dbe9b1ceb1d17f92bebf10216fcfab5c3fba700000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000800000000000000000000000004ac214d7f16e1c28d8910f2546de6113194e515d000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000095a6f7074696d6973740000000000000000000000000000000000000000000000`;

    const infos = await extractByCollectionERC1155(collection, data);
    expect(infos.length).not.toBe(0);
  });

  // it("erc1155-redeem", async () => {
  //   const collection = `0x236BA33c42DCd40Cdaf6CCf3bdE37ffCE17927e5`;
  //   const data = `0x731133e90000000000000000000000006f20176dbdc80aa9c20fda4a1ffaa0a7b785e4c00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000380000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000002800000000000000000000000000000000000000000000000000000000000000300000000000000000000000000236ba33c42dcd40cdaf6ccf3bde37ffce17927e500000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000001200000000000000000000000000000000000000000000000000000000064a245ce0000000000000000000000000000000000000000000000000000000064ab8240000000000000000000000000000000000000000000000000000000000000000000000000000000000000000024e5b063fbfa23a168148d102a239c139ad83cc7000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000d000000000000000000000000000000000000000000000000000000000000000d000000000000000000000000236ba33c42dcd40cdaf6ccf3bde37ffce17927e500000000000000000000000000000000000000000000000000000000000000006b20c45400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000d0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001`;
  //   const infos = await extractByCollection(collection, data);
  //   expect(infos.length).not.toBe(0);
  // });
});
