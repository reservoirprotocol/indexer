import { config as dotEnvConfig } from "dotenv";
dotEnvConfig();

import { extractByCollection } from "../../orderbook/mints/calldata/detector/manifold";
import { jest, describe, it, expect } from "@jest/globals";

jest.setTimeout(1000 * 1000);

describe("Mints - Manifold", () => {
  it("erc721-v1", async () => {
    const collection = `0xaaace5c179f66db7dbd4a3c9523cdbf704670ec7`;

    const infos = await extractByCollection(collection, "46", undefined, "1903089904");
    expect(infos.length).not.toBe(0);
  });

  it("erc721-v2-with-mint-fee", async () => {
    const collection = `0x75feA8C68fDE92B02361F72291510eEDE607B291`;
    const infos = await extractByCollection(collection, "46", undefined, "1065781488");
    expect(infos.length).not.toBe(0);
  });

  it("erc721-latest", async () => {
    const collection = `0x549235924B3c961c9b9B6c8E59274E825ee82654`;
    const infos = await extractByCollection(collection, "46", undefined, "1051791600");
    expect(infos.length).not.toBe(0);
  });

  // it("erc1155-redeem", async () => {
  //   const collection = `0x236BA33c42DCd40Cdaf6CCf3bdE37ffCE17927e5`;
  //   const data = `0x731133e90000000000000000000000006f20176dbdc80aa9c20fda4a1ffaa0a7b785e4c00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000380000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000002800000000000000000000000000000000000000000000000000000000000000300000000000000000000000000236ba33c42dcd40cdaf6ccf3bde37ffce17927e500000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000001200000000000000000000000000000000000000000000000000000000064a245ce0000000000000000000000000000000000000000000000000000000064ab8240000000000000000000000000000000000000000000000000000000000000000000000000000000000000000024e5b063fbfa23a168148d102a239c139ad83cc7000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000d000000000000000000000000000000000000000000000000000000000000000d000000000000000000000000236ba33c42dcd40cdaf6ccf3bde37ffce17927e500000000000000000000000000000000000000000000000000000000000000006b20c45400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000d0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001`;
  //   const infos = await extractByCollection(collection, data);
  //   expect(infos.length).not.toBe(0);
  // });
});
